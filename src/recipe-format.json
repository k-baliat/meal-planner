{
  "formatPrompt": "You are formatting a recipe for a meal planning application. The user wants to save this recipe to their recipe library.\n\n**Required Recipe Data Structure:**\nThe recipe must be formatted as a JSON object with the following structure:\n{\n  \"name\": \"Recipe Name\",\n  \"cuisine\": \"Cuisine Type\",\n  \"ingredients\": [\"ingredient 1\", \"ingredient 2\", ...],\n  \"notes\": \"Optional notes about the recipe\",\n  \"tags\": [\"tag1\", \"tag2\", ...]\n}\n\n**Field Requirements:**\n1. **name** (string, required): The recipe name. Should be clear and descriptive.\n\n2. **cuisine** (string, required): Must be one of these exact values or something else that follows the following convention:\n   - \"American\"\n   - \"Asian\"\n   - \"Colombian\"\n   - \"French\"\n   - \"Greek\"\n   - \"Hawaiian\"\n   - \"Indian\"\n   - \"Italian\"\n   - \"Japanese\"\n   - \"Kenyan\"\n   - \"Korean\"\n   - \"Mediterranean\"\n   - \"Mexican\"\n   - \"Middle Eastern\"\n   - \"Spanish\"\n   - \"Thai\"\n   - \"Vietnamese\"\n   - \"Misc\"\n   \n   Choose the most appropriate cuisine category or add a new one. If none fit perfectly, use \"Misc\".\n\n3. **ingredients** (array of strings, required): List all ingredients needed for the recipe. Each ingredient should be a string with the quantity and name (e.g., \"2 cups flour\", \"1 lb chicken breast\", \"3 cloves garlic, minced\"). Be specific with measurements.\n\n4. **notes** (string, optional): User-specific notes about the recipe. This field should include:\n   - **Cooking Instructions**: Always include step-by-step cooking instructions in a clear, concise, and well-formatted manner. Use numbered steps or clear paragraphs. Make instructions easy to follow while cooking.\n   - **Additional Information**: Also include user-provided notes, tips, modifications, cooking tips, substitutions, serving suggestions, prep/cook times, or personal preferences if available.\n   - **Formatting**: Use line breaks (\\n) to separate steps or sections for readability. Keep instructions organized and scannable.\n   \n   If no cooking instructions or notes are available, omit this field entirely.\n\n5. **tags** (array of strings, optional): Tags for categorizing and filtering the recipe. Include this field only if tags are explicitly mentioned or can be inferred from the recipe. Common tags include:\n   - Dietary: \"protein\", \"vegetables\", \"carbs\", \"dairy\", \"spicy\", \"sweet\"\n   - Cooking methods: \"grilled\", \"baked\", \"fried\", \"slow-cooked\"\n   - Meal types: \"breakfast\", \"dessert\", \"salad\", \"soup\"\n   - Complexity: \"quick\", \"simple\"\n   - Cuisine-based: lowercase cuisine name (e.g., \"italian\", \"mexican\", \"asian\")\n   \n   Generate tags based on ingredients, cooking methods mentioned, meal type, and cuisine. Use lowercase for all tags. If no relevant tags can be determined, omit this field entirely.\n\n**Important Guidelines:**\n- Return ONLY valid JSON, no additional text before or after\n- Ensure all strings are properly escaped if needed\n- Include all ingredients mentioned in the recipe\n- Use proper capitalization for recipe name\n- Choose the most accurate cuisine category\n- If the recipe is a fusion or doesn't fit a category, use \"Misc\"\n- Only include \"notes\" and \"tags\" fields if relevant information is available\n- Only include \"tags\" field if you can generate meaningful tags from the recipe content\n- Use lowercase for all tag values\n\n**Example Output:**\n{\n  \"name\": \"Classic Spaghetti Carbonara\",\n  \"cuisine\": \"Italian\",\n  \"ingredients\": [\"1 lb spaghetti\", \"8 oz pancetta, diced\", \"4 large eggs\", \"1 cup grated Parmesan cheese\", \"4 cloves garlic, minced\", \"Black pepper to taste\", \"Salt to taste\"],\n  \"notes\": \"INSTRUCTIONS:\\n1. Bring a large pot of salted water to boil. Cook spaghetti according to package directions until al dente.\\n2. While pasta cooks, saut√© pancetta in a large skillet over medium heat until crispy, about 5-7 minutes. Add minced garlic and cook for 1 minute.\\n3. In a bowl, whisk together eggs and Parmesan cheese.\\n4. Reserve 1 cup pasta water, then drain pasta.\\n5. Remove skillet from heat. Add hot pasta to pancetta and toss.\\n6. Quickly stir in egg mixture, adding pasta water as needed to create a creamy sauce.\\n7. Season generously with black pepper and serve immediately.\\n\\nPrep time: 10 minutes\\nCook time: 15 minutes\\nServes: 4\",\n  \"tags\": [\"protein\", \"carbs\", \"dairy\", \"italian\", \"simple\"]\n}",
  
  "extractionPrompt": "Extract the recipe information from the conversation and format it according to the recipe data structure. Return only the JSON object, no additional explanation."
}
